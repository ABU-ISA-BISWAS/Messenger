[{"C:\\web-develop\\messenger\\src\\index.js":"1","C:\\web-develop\\messenger\\src\\reportWebVitals.js":"2","C:\\web-develop\\messenger\\src\\App.js":"3","C:\\web-develop\\messenger\\src\\Pages\\Login.js":"4","C:\\web-develop\\messenger\\src\\Pages\\Home.js":"5","C:\\web-develop\\messenger\\src\\Pages\\SignUp.js":"6","C:\\web-develop\\messenger\\src\\components\\Sidebar.js":"7","C:\\web-develop\\messenger\\src\\components\\Navbar.js":"8","C:\\web-develop\\messenger\\src\\components\\Chat.js":"9","C:\\web-develop\\messenger\\src\\components\\Messages.js":"10","C:\\web-develop\\messenger\\src\\components\\Message.js":"11","C:\\web-develop\\messenger\\src\\components\\Search.js":"12","C:\\web-develop\\messenger\\src\\components\\Chats.js":"13","C:\\web-develop\\messenger\\src\\pages\\Home.js":"14","C:\\web-develop\\messenger\\src\\pages\\Login.js":"15","C:\\web-develop\\messenger\\src\\pages\\SignUp.js":"16","C:\\web-develop\\messenger\\src\\components\\Input.js":"17","C:\\web-develop\\messenger\\src\\firebase.js":"18","C:\\web-develop\\messenger\\src\\context\\AuthContext.js":"19","C:\\web-develop\\messenger\\src\\context\\ChatContext.js":"20","C:\\web-develop\\messenger\\src\\components\\Footer.js":"21","C:\\web-develop\\messenger\\src\\components\\SideBar.js":"22"},{"size":563,"mtime":1666289931287,"results":"23","hashOfConfig":"24"},{"size":362,"mtime":1664635453360,"results":"25","hashOfConfig":"24"},{"size":1050,"mtime":1666369256803,"results":"26","hashOfConfig":"24"},{"size":865,"mtime":1664990067273,"results":"27","hashOfConfig":"24"},{"size":361,"mtime":1664994916846,"results":"28","hashOfConfig":"24"},{"size":149,"mtime":1664817747531,"results":"29","hashOfConfig":"24"},{"size":310,"mtime":1666434905469,"results":"30","hashOfConfig":"24"},{"size":685,"mtime":1666439115379,"results":"31","hashOfConfig":"24"},{"size":696,"mtime":1666434628472,"results":"32","hashOfConfig":"24"},{"size":847,"mtime":1666290151517,"results":"33","hashOfConfig":"24"},{"size":1182,"mtime":1666340789601,"results":"34","hashOfConfig":"24"},{"size":3343,"mtime":1666421930800,"results":"35","hashOfConfig":"24"},{"size":1496,"mtime":1666424746481,"results":"36","hashOfConfig":"24"},{"size":1898,"mtime":1666438910174,"results":"37","hashOfConfig":"24"},{"size":2005,"mtime":1666440183767,"results":"38","hashOfConfig":"24"},{"size":3176,"mtime":1666370631787,"results":"39","hashOfConfig":"24"},{"size":3112,"mtime":1666294458940,"results":"40","hashOfConfig":"24"},{"size":676,"mtime":1666194430420,"results":"41","hashOfConfig":"24"},{"size":634,"mtime":1666197475555,"results":"42","hashOfConfig":"24"},{"size":1026,"mtime":1666289835268,"results":"43","hashOfConfig":"24"},{"size":352,"mtime":1666370925047,"results":"44","hashOfConfig":"24"},{"size":310,"mtime":1666434905469,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},"1m2w1xr",{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"49"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"49"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95"},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"49"},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"49"},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"113","messages":"114","suppressedMessages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"116","messages":"117","suppressedMessages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},"C:\\web-develop\\messenger\\src\\index.js",[],[],[],"C:\\web-develop\\messenger\\src\\reportWebVitals.js",[],[],"C:\\web-develop\\messenger\\src\\App.js",["119"],[],"import './App.css';\r\nimport Login from './pages/Login';\r\nimport SignUp from './pages/SignUp';\r\nimport { BrowserRouter, Link, Navigate, Route, Routes } from 'react-router-dom';\r\nimport Home from './pages/Home';\r\nimport './Style.scss';\r\nimport { useContext } from 'react';\r\nimport { AuthContext } from './context/AuthContext';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  const ProtectedRoute = ({ children }) => {\r\n    if (!currentUser) {\r\n      return <Navigate to=\"/login\" />;\r\n    }\r\n\r\n    return children\r\n  };\r\n\r\n  return (\r\n    \r\n    <BrowserRouter>\r\n      <Routes>\r\n        <Route path=\"/\">\r\n          <Route\r\n            index\r\n            element={\r\n              <ProtectedRoute>\r\n                <Home />\r\n              </ProtectedRoute>\r\n            }\r\n          />\r\n          <Route path=\"login\" element={<Login />} />\r\n          <Route path=\"signUp\" element={<SignUp />} />\r\n          \r\n        </Route>\r\n        \r\n      </Routes>\r\n     \r\n    </BrowserRouter>\r\n    \r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\web-develop\\messenger\\src\\Pages\\Login.js",[],[],[],"C:\\web-develop\\messenger\\src\\Pages\\Home.js",[],[],"C:\\web-develop\\messenger\\src\\Pages\\SignUp.js",[],[],"C:\\web-develop\\messenger\\src\\components\\Sidebar.js",[],[],"C:\\web-develop\\messenger\\src\\components\\Navbar.js",[],[],"C:\\web-develop\\messenger\\src\\components\\Chat.js",["120","121","122"],[],"import React, { useContext } from 'react';\r\nimport Cam from \"../img/cam.png\";\r\nimport Add from \"../img/add.png\";\r\nimport More from \"../img/more.png\";\r\nimport Messages from './Messages';\r\nimport Input from './Input';\r\nimport { ChatContext } from '../context/ChatContext';\r\n\r\n\r\n\r\nconst Chat = () => {\r\n    const { data } = useContext(ChatContext);\r\n\r\n  return (\r\n    <div className=\"chat mx-auto \">\r\n      <div className=\"chatInfo\">\r\n      <div className='userPP'>\r\n      <img className='pp mr-2' src={data.user?.photoURL} alt=\"\" />\r\n        <span>{data.user?.displayName}</span>\r\n      </div>\r\n       \r\n      </div>\r\n      <Messages />\r\n      <Input/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;","C:\\web-develop\\messenger\\src\\components\\Messages.js",[],[],"C:\\web-develop\\messenger\\src\\components\\Message.js",[],[],"C:\\web-develop\\messenger\\src\\components\\Search.js",[],[],"C:\\web-develop\\messenger\\src\\components\\Chats.js",[],[],"C:\\web-develop\\messenger\\src\\pages\\Home.js",[],[],"C:\\web-develop\\messenger\\src\\pages\\Login.js",["123","124"],[],"import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { auth } from \"../firebase\";\r\nimport messenger from \"../img/messenger.png\"\r\nimport Footer from '../components/Footer';\r\n\r\n\r\nconst Login = () => {\r\n    const [err , setErr] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (e) => {\r\n        setLoading(true);\r\n        e.preventDefault();\r\n\r\n        const email = e.target[0].value;\r\n        const password = e.target[1].value;\r\n\r\n\r\n        try {\r\n            await signInWithEmailAndPassword(auth, email, password);\r\n            navigate('/');\r\n\r\n        } catch (err) {\r\n            setErr(true);\r\n            setLoading(false);\r\n        }\r\n    };\r\n    return (\r\n\r\n        <div className='login'>\r\n            \r\n            <div className='text-center   heading '>\r\n            <img className='h-24 w-24' src={messenger} alt=\"\" />\r\n            <p className='text-4xl text-gray-700' >Connect with your friends</p>\r\n            </div>\r\n           \r\n            <div className=\"formContainer \">\r\n           \r\n           \r\n            <div className=\"formWrapper\">\r\n            \r\n                <span className=\"logo font-sans\" >My chat</span>\r\n\r\n                <form onSubmit={handleSubmit}>\r\n\r\n\r\n                    <input className='p-1 rounded-sm border-blue-500 border-2' type=\"email\" placeholder=\"email\" />\r\n\r\n                    <input className='p-1 rounded-sm border-blue-500 border-2 input-xs' type=\"password\" placeholder=\"password\" />\r\n\r\n\r\n\r\n                    <button className='w-full bg-blue-600 rounded-sm p-2 text-white font-semibold'>Login</button>\r\n\r\n\r\n                </form>\r\n                <p>don't you have an account ? <Link to=\"/signUp\">Register</Link></p>\r\n            </div>\r\n        </div>\r\n        <Footer></Footer>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Login;","C:\\web-develop\\messenger\\src\\pages\\SignUp.js",["125"],[],"import React, { useState } from \"react\";\r\nimport Add from \"../img/addAvatar.png\";\r\nimport { createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\r\nimport { auth, db, storage } from \"../firebase\";\r\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport messenger from \"../img/messenger.png\"\r\n\r\nconst SignUp = () => {\r\n  const [err, setErr] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    setLoading(true);\r\n    e.preventDefault();\r\n    const displayName = e.target[0].value;\r\n    const email = e.target[1].value;\r\n    const password = e.target[2].value;\r\n    const file = e.target[3].files[0];\r\n\r\n    try {\r\n      //Create user\r\n      const res = await createUserWithEmailAndPassword(auth, email, password);\r\n\r\n      //Create a unique image name\r\n      const date = new Date().getTime();\r\n      const storageRef = ref(storage, `${displayName + date}`);\r\n\r\n      await uploadBytesResumable(storageRef, file).then(() => {\r\n        getDownloadURL(storageRef).then(async (downloadURL) => {\r\n          try {\r\n            //Update profile\r\n            await updateProfile(res.user, {\r\n              displayName,\r\n              photoURL: downloadURL,\r\n            });\r\n            //create user on firestore\r\n            await setDoc(doc(db, \"users\", res.user.uid), {\r\n              uid: res.user.uid,\r\n              displayName,\r\n              email,\r\n              photoURL: downloadURL,\r\n            });\r\n\r\n            //create empty user chats on firestore\r\n            await setDoc(doc(db, \"userChats\", res.user.uid), {});\r\n            navigate(\"/\");\r\n          } catch (err) {\r\n            console.log(err);\r\n            setErr(true);\r\n            setLoading(false);\r\n          }\r\n        });\r\n      });\r\n    } catch (err) {\r\n      setErr(true);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n   <div className=\"login\">\r\n     <div className=' signUpHeading '>\r\n            <img className='h-24 w-24' src={messenger} alt=\"\" />\r\n            \r\n            </div>\r\n     <div className=\"signupFormContainer\">\r\n      \r\n           \r\n           \r\n      \r\n      <div className=\"signupFormWrapper\">\r\n        <span className=\"logo\">My Chat</span>\r\n        <span className=\"title\">Register</span>\r\n        <form onSubmit={handleSubmit}>\r\n          <input required type=\"text\" placeholder=\"display name\" />\r\n          <input required type=\"email\" placeholder=\"email\" />\r\n          <input required type=\"password\" placeholder=\"password\" />\r\n          <input required style={{ display: \"none\" }} type=\"file\" id=\"file\" />\r\n          <label htmlFor=\"file\">\r\n            <img src={Add} alt=\"\" />\r\n            <span>Add an avatar</span>\r\n          </label>\r\n          <button>Sign up</button>\r\n          {err && <span>Something went wrong</span>}\r\n\r\n        </form>\r\n        <p>\r\n          You do have an account? <Link to=\"/login\">Login</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n    \r\n   </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;","C:\\web-develop\\messenger\\src\\components\\Input.js",["126"],[],"import React, { useContext, useState } from \"react\";\r\nimport Img from \"../img/img.png\";\r\nimport Attach from \"../img/attach.png\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { ChatContext } from \"../context/ChatContext\";\r\nimport {\r\n  arrayUnion,\r\n  doc,\r\n  serverTimestamp,\r\n  Timestamp,\r\n  updateDoc,\r\n} from \"firebase/firestore\";\r\nimport { db, storage } from \"../firebase\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\r\n\r\nconst Input = () => {\r\n    const [text, setText] = useState(\"\");\r\n    const [img, setImg] = useState(null);\r\n  \r\n    const { currentUser } = useContext(AuthContext);\r\n    const { data } = useContext(ChatContext);\r\n    // const cTime = new Date().toLocaleTimeString();\r\n    var cTime = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});\r\n   \r\n  \r\n    const handleSend = async () => {\r\n      if (img) {\r\n        const storageRef = ref(storage, uuid());\r\n  \r\n        const uploadTask = uploadBytesResumable(storageRef, img);\r\n  \r\n        uploadTask.on(\r\n          (error) => {\r\n            //TODO:Handle Error\r\n          },\r\n          () => {\r\n            getDownloadURL(uploadTask.snapshot.ref).then(async (downloadURL) => {\r\n              await updateDoc(doc(db, \"chats\", data.chatId), {\r\n                messages: arrayUnion({\r\n                  id: uuid(),               \r\n                  senderId: currentUser.uid,\r\n                  date: Timestamp.now(),\r\n                  text,\r\n                  img: downloadURL,\r\n                  cTime,\r\n                }),\r\n              });\r\n            });\r\n          }\r\n        );\r\n      } \r\n      else{\r\n        await updateDoc(doc(db, \"chats\", data.chatId), {\r\n          messages: arrayUnion({\r\n            id: uuid(),\r\n            text,\r\n            senderId: currentUser.uid,\r\n            date: Timestamp.now(),\r\n            cTime,\r\n          }),\r\n        });\r\n      }\r\n  \r\n      await updateDoc(doc(db, \"userChats\", currentUser.uid), {\r\n        [data.chatId + \".lastMessage\"]: {\r\n          text,\r\n        },\r\n        [data.chatId + \".date\"]: serverTimestamp(),\r\n      });\r\n  \r\n      await updateDoc(doc(db, \"userChats\", data.user.uid), {\r\n        [data.chatId + \".lastMessage\"]: {\r\n          text,\r\n        },\r\n        [data.chatId + \".date\"]: serverTimestamp(),\r\n      });\r\n  \r\n      setText(\"\");\r\n      setImg(null);\r\n    };\r\n    return (\r\n        <div className=\"input\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Type something...\"\r\n          onChange={(e) => setText(e.target.value)}\r\n          value={text}\r\n        />\r\n        <div className=\"send\">\r\n          \r\n          <input\r\n            type=\"file\"\r\n            style={{ display: \"none\" }}\r\n            id=\"file\"\r\n            onChange={(e) => setImg(e.target.files[0])}\r\n          />\r\n          <label htmlFor=\"file\">\r\n            <img className=\"h-12 w-16\" src={Attach} alt=\"\" />\r\n          </label>\r\n          <button className=\"rounded\" onClick={handleSend}>Send</button>\r\n        </div>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default Input;","C:\\web-develop\\messenger\\src\\firebase.js",[],[],"C:\\web-develop\\messenger\\src\\context\\AuthContext.js",[],[],"C:\\web-develop\\messenger\\src\\context\\ChatContext.js",[],[],"C:\\web-develop\\messenger\\src\\components\\Footer.js",[],[],"C:\\web-develop\\messenger\\src\\components\\SideBar.js",[],[],{"ruleId":"127","severity":1,"message":"128","line":4,"column":25,"nodeType":"129","messageId":"130","endLine":4,"endColumn":29},{"ruleId":"127","severity":1,"message":"131","line":2,"column":8,"nodeType":"129","messageId":"130","endLine":2,"endColumn":11},{"ruleId":"127","severity":1,"message":"132","line":3,"column":8,"nodeType":"129","messageId":"130","endLine":3,"endColumn":11},{"ruleId":"127","severity":1,"message":"133","line":4,"column":8,"nodeType":"129","messageId":"130","endLine":4,"endColumn":12},{"ruleId":"127","severity":1,"message":"134","line":10,"column":12,"nodeType":"129","messageId":"130","endLine":10,"endColumn":15},{"ruleId":"127","severity":1,"message":"135","line":11,"column":12,"nodeType":"129","messageId":"130","endLine":11,"endColumn":19},{"ruleId":"127","severity":1,"message":"135","line":12,"column":10,"nodeType":"129","messageId":"130","endLine":12,"endColumn":17},{"ruleId":"127","severity":1,"message":"136","line":2,"column":8,"nodeType":"129","messageId":"130","endLine":2,"endColumn":11},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Cam' is defined but never used.","'Add' is defined but never used.","'More' is defined but never used.","'err' is assigned a value but never used.","'loading' is assigned a value but never used.","'Img' is defined but never used."]